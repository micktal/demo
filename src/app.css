@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design Tokens (HSL to work with Tailwind hsl(var(--*))) */
:root {
  --brand-green: 152 60% 36%; /* primary accent */
  --brand-black: 0 0% 8%;
  --brand-white: 0 0% 100%;
  --bg: 210 20% 98%;
  --gray-900: 220 43% 11%;
  --gray-700: 215 25% 27%;
  --gray-400: 215 16% 47%;
  --radius-xl: 20px;
}

/***** Accessibility modes *****/
html[data-contrast='high'] {
  --bg: 0 0% 100%;
  --gray-400: 220 9% 46%;
  --gray-700: 220 13% 18%;
  --gray-900: 0 0% 0%;
  --brand-green: 152 70% 28%;
}
html[data-fontscale='112'] { font-size: 112.5%; }
html[data-fontscale='125'] { font-size: 125%; }

@layer base {
  html, body { @apply bg-bg text-gray-900 antialiased; }
  body { @apply font-sans; }
  :focus-visible { @apply outline-none ring-2 ring-brand-green ring-offset-2 ring-offset-white; }
  h1 { @apply font-semibold text-gray-900; font-size: 48px; line-height: 56px; letter-spacing:-0.01em; }
  h2 { @apply font-semibold text-gray-900 mt-6 md:mt-8 mb-4 md:mb-6; font-size: 36px; line-height: 44px; letter-spacing:-0.01em; }
  h3 { @apply font-semibold text-gray-900; font-size: 24px; line-height: 32px; }
  p { @apply text-gray-700; font-size: 16px; line-height: 24px; }
}

@layer components {
  .container-1200 { @apply max-w-[1200px] mx-auto px-6 md:px-8; }
  .card { @apply bg-white/90 shadow-soft rounded-xl p-6 md:p-8 border border-black/5 transition-all duration-200; border-radius: var(--radius-xl); backdrop-filter: saturate(120%) blur(6px); }
.card:hover { @apply -translate-y-0.5 shadow-lg; }
  .btn { @apply inline-flex items-center justify-center gap-2 font-medium rounded-lg transition-colors duration-200; }
  .btn-primary { @apply btn text-white px-5 py-2.5 shadow-soft hover:shadow-md ring-1 ring-emerald-700/20; background-image: linear-gradient(90deg, hsl(var(--brand-green)) 0%, #10b981 100%); }
.btn-primary:hover { filter: brightness(1.03); }
.btn-primary:active { @apply scale-[.98]; }
  .btn-ghost { @apply btn bg-transparent text-gray-900 hover:bg-black/10 px-5 py-2.5 border border-gray-400/50; }
.btn-ghost:hover { @apply border-gray-400; }
  .badge { @apply inline-flex items-center rounded-full bg-black/5 px-3 py-1 text-sm font-medium text-gray-700; }
  .grid-12 { @apply grid grid-cols-12 gap-6 md:gap-8; }
  .header-link { @apply relative text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors; }
.header-link::after { content:""; position:absolute; left:0; bottom:-2px; width:0; height:2px; background: hsl(var(--brand-green)); transition: width .2s ease; }
.header-link:hover::after, .header-link[aria-current="page"]::after { width:100%; }
}

/***** Utilities *****/
.shadow-soft { box-shadow: 0 10px 24px -8px rgba(0,0,0,0.08), 0 6px 12px -6px rgba(0,0,0,0.06); }
.rounded-xl { border-radius: var(--radius-xl); }

/* Added accessibility helpers */
.skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{left:16px;top:12px;width:auto;height:auto;background:#fff;border:2px solid var(--brand-green,#0C6A4C);padding:6px 10px;border-radius:8px;z-index:100}
.header-link[aria-current="page"]{color:var(--brand-green,#0C6A4C);font-weight:600}

/* FPSG Splash (global styles) */
:root { --fpsg-green:#0C6A4C; }
#fpsg-splash[hidden]{ display:none !important; }
#fpsg-splash{ position:fixed; inset:0; z-index:99999; background:#fff; display:grid; place-items:center; }
.fpsg-splash__inner{ display:grid; gap:16px; place-items:center; }
.fpsg-splash__logo{ width:min(52vw,420px); height:auto; opacity:0; transform:scale(.96); animation:fpsg-in .8s ease forwards, fpsg-pulse 1.4s ease .8s 1; }
.fpsg-skip{ padding:8px 14px; border-radius:999px; border:1px solid color-mix(in oklab, var(--fpsg-green) 50%, #ffffff); background:#f2fbf7; color:var(--fpsg-green); font-weight:600; cursor:pointer; }
.fpsg-skip:focus-visible{ outline:3px solid var(--fpsg-green); outline-offset:2px; }
@keyframes fpsg-in { to { opacity:1; transform:scale(1); } }
@keyframes fpsg-pulse { 0%{ transform:scale(1); } 50%{ transform:scale(1.02); } 100%{ transform:scale(1); } }
.fpsg-leave{ animation:fpsg-out .45s ease forwards; }
@keyframes fpsg-out { to { opacity:0; transform:scale(.98); } }
@media (prefers-reduced-motion: reduce){ .fpsg-splash__logo{ animation:none; opacity:1; transform:none; } }
.fpsg-no-scroll{ overflow:hidden; }
